x_double_posting_blockerプラグインについて

◆概要：

・blosxomでは投稿した後にブラウザをリロードすると、全く同じ内容が再投稿
　されてしまいます。
　これを防止するプラグインです。
・既存のプラグインに手を加えずに本プラグインだけで対処します。
・コメント投稿用のプラグインはデフォルトでwriteback系, guestbook, 
　newentry,mailpostの４つのプラグインをサポート。
　将来他のプラグインに対応可能。
・blosxom starter kitでの使用を想定していますが、標準のblosxomにも対応。

◆設定・設置

1)　簡単設置

デフォルト設定のままで文字コードを自分のブログの設定に合わせて変更して
プラグインフォルダーに放り込むだけです。

2)　Configurable variables

$pluginsの設定値を変更する事で対象プラグインを拡張可能です。
 '|'で区切って対象プラグインを指定して下さい。

デフォルトでは以下の様に、writeback,guestbook,newentry,mailpostの４つに対応。

my $plugins = 'writeback|guestbook|newentry|mailpost';

仮に、将来 "abc" というプラグインを対象に加える場合は、

my $plugins = 'writeback|guestbook|newentry|mailpost|abc';

の様にすればいいです。

！注意！

本プラグインは、guestbook, writeback, newentryの各プラグインより
後に実行する事を前提としております。
（プラグインの実行はプラグイン名のアルファベット順です。）

本プラグイン名称が　"x"　で始まっているのは、その為です。
（２重投稿をブロックする意味も持たせて名づけています。）

本プラグインの名称を変えてそれらの名称より先に実行されますと、
正常に動作しなくなります。名称変更はしないで下さい。

なお、対象に加えたいプラグインがx以降のプラグイン名の場合は、正常に
動作しません。
その場合にはx_double...の名称を、例えば、zzz_double...の様にこれ以上
後のアルファベットが無いファイル名に変更して下さい。
プラグインの中のpackage名称もファイル名に合わせて同時に変更しないと
エラーが出ると思います。

＊）対象プラグインを指定せず、スクリプトも変更して postメソッドで
　　投稿された時のみ２重投稿防止するというスクリプトでもおそらく
　　何も問題無いと思っていますが、やはり確認出来ていないプラグイン
　　は対象外としておいた方がいいだろうという事で、対象プラグインを
　　チェックする様にしてあります。ここは作者の考え方の問題です。
　　でも、一応、対象プラグインを拡張出来る様にしていますので、
　　良しとして下さいね。

◆その他

　無保証：　動作保障はありません。全て自己責任でお使い下さい。  
　ただし、ＢＢＳで聞いていただければ、可能な範囲でサポートします。

◆履歴

　2005.11.28  Version 0.42　・ブラウザから$ENV{'REQUEST_URI'}が送られてこない
　　　　　　　　　　　　　　　場合には、ブログトップへ飛ぶ様にした
　　　　　　　　　　　　　　　（ブラウザ異常対策）
　　　　　　　　　　　　　　　SSI対応（included:->http:に変換）
　2005.10.02  Version 0.30　・メッセージ判断機能削除、newentry対応、拡張対応
  　　　　　　　　　　　　　・readme.txtの記述追加
  2004.11.27  Version 0.21  ・メッセージ判断機能不良修正（orの後ろを変更）
　2004.11.13  Version 0.12　・最初のリリース 

以上